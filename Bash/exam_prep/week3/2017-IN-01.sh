# –ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ —Ç—Ä–∏ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏ –ø–æ–∑–∏—Ü–æ–Ω–Ω–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:
#   ‚Ä¢ –∏–º–µ –Ω–∞ —Ñ–∞–∏–ª
#   ‚Ä¢ –Ω–∏–∑1
#   ‚Ä¢ –Ω–∏–∑2

# –§–∞–π–ª—ä—Ç –µ —Ç–µ–∫—Å—Ç–æ–≤–∏, –∏ —Å—ä–¥—ä—Ä–∂–∞ —Ä–µ–¥–æ–≤–µ –≤—ä–≤ —Ñ–æ—Ä–º–∞—Ç:
# –∫–ª—é—á=—Å—Ç–æ–π–Ω–æ—Å—Ç
# –∫—ä–¥–µ—Ç–æ —Å—Ç–æ–π–Ω–æ—Å—Ç –º–æ–∂–µ –¥–∞ –±—ä–¥–µ:
# ‚Ä¢ –ø—Ä–∞–∑–µ–Ω –Ω–∏–∑, —Ç.–µ. —Ä–µ–¥—ä—Ç –µ –∫–ª—é—á=
# ‚Ä¢ –Ω–∏–∑, —Å—ä—Å—Ç–æ—è—â —Å–µ –æ—Ç –µ–¥–∏–Ω –∏–ª–∏ –ø–æ–≤–µ—á–µ —Ç–µ—Ä–º–æ–≤–µ, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏, —Ç.–µ., —Ä–µ–¥—ä—Ç –µ –∫–ª—é—á=ùë°1 ùë°2 ùë°3

# –ù—è–∫—ä–¥–µ –≤—ä–≤ —Ñ–∞–π–ª–∞:
# ‚Ä¢ —Å–µ —Å—ä–¥—ä—Ä–∂–∞ –µ–¥–∏–Ω —Ä–µ–¥ —Å –∫–ª—é—á –ø—ä—Ä–≤–∏—è –ø–æ–¥–∞–¥–µ–Ω –Ω–∏–∑ (–Ω–∏–∑1);
# ‚Ä¢ –∏ –º–æ–∂–µ –¥–∞ —Å–µ —Å—ä–¥—ä—Ä–∂–∞ –µ–¥–∏–Ω —Ä–µ–¥ —Å –∫–ª—é—á –≤—Ç–æ—Ä–∏—è –ø–æ–¥–∞–¥–µ–Ω –Ω–∏–∑ (–Ω–∏–∑2).

# –°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–æ–º–µ–Ω—è —Ä–µ–¥–∞ —Å –∫–ª—é—á –Ω–∏–∑2 —Ç–∞–∫–∞, —á–µ –æ–±–µ–¥–∏–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞
# —Ç–µ—Ä–º–æ–≤–µ—Ç–µ –Ω–∞ —Ä–µ–¥–æ–≤–µ—Ç–µ —Å –∫–ª—é—á–æ–≤–µ –Ω–∏–∑1 –∏ –Ω–∏–∑2 –¥–∞ –≤–∫–ª—é—á–≤–∞ –≤—Å–µ–∫–∏ —Ç–µ—Ä–º –µ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ.

#!/bin/bash

if [[ $# -ne 3 ]]; then
    echo "Invalid args count"
    exit 1
fi

if [[ ! -f "${1}" ]]; then
    echo "invalid first arg: expected file"
    exit 2
fi

result=""

firstKeyArgs=$(cat "${1}" | egrep  "^${2}=" | awk -F '=' '{print $2}' | tr ' ' '\n')
secondKeyArgs=$(cat "${1}" | egrep  "^${3}=" | awk -F '=' '{print $2}' | tr ' ' '\n')

while read line ; do
    echo "${firstKeyArgs}" | grep -q -F "${line}"

    if [[ ${?} -ne 0 ]] ; then
        result+=$(echo "${line} ")
    fi
done < <(echo "${secondKeyArgs}")


echo ${result}
sed -i -E "s/(${3}=).*/\1${result}/g" ${1}

# –ü—Ä–∏–º–µ—Ä–µ–Ω –≤—Ö–æ–¥–µ–Ω —Ñ–∞–π–ª:
# $ cat z1.txt
# FOO=73
# BAR=42
# BAZ=
# ENABLED_OPTIONS=a b c d
# ENABLED_OPTIONS_EXTRA=c e f
# –ü—Ä–∏–º–µ—Ä–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ:
# $ ./a.sh z1.txt ENABLED_OPTIONS ENABLED_OPTIONS_EXTRA
# –ò–∑—Ö–æ–¥–µ–Ω —Ñ–∞–π–ª:
# $ cat z1.txt
# FOO=73
# BAR=42
# BAZ=
# ENABLED_OPTIONS=a b c d
# ENABLED_OPTIONS_EXTRA=e f